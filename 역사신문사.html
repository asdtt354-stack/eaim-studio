<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>EAIM ì—­ì‚¬ ì‹ ë¬¸ì‚¬: ë¬´ê²°ì  ë²„ì „</title>
    <style>
        /* ğŸ¨ ì „ì²´ ë ˆì´ì•„ì›ƒ */
        body { 
            font-family: 'Noto Serif KR', serif; margin: 0; padding: 0; 
            background-color: #222; color: #333; overflow-x: hidden;
        }

        /* ğŸ¬ ì‹œë„¤ë§ˆí‹± ë°°ê²½ */
        #bg-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-image: url('https://upload.wikimedia.org/wikipedia/commons/e/e3/Gyeongbokgung_Palace.jpg');
            background-size: cover; background-position: center;
            z-index: -5; transition: background-image 1s ease-in-out;
            animation: cinematicMove 30s infinite alternate linear;
        }
        @keyframes cinematicMove { 0% { transform: scale(1.0); } 100% { transform: scale(1.15); } }

        .bg-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.3); z-index: -4; pointer-events: none; }

        /* ì»¨í…Œì´ë„ˆ */
        .container { 
            width: 90%; max-width: 800px; margin: 40px auto; 
            background: rgba(255, 255, 255, 0.94); 
            padding: 30px; border-radius: 20px; 
            box-shadow: 0 20px 60px rgba(0,0,0,0.7); 
            border: 1px solid #8d6e63; backdrop-filter: blur(5px); 
            text-align: center; position: relative; z-index: 10;
        }

        /* í…ìŠ¤íŠ¸ & ë²„íŠ¼ */
        h1 { font-size: 2.5em; margin: 0 0 10px 0; color: #3e2723; }
        .subtitle { color: #5d4037; margin-bottom: 20px; font-weight: bold; }
        .btn-menu { display: flex; gap: 10px; justify-content: center; margin-bottom: 20px; }
        .action-btn { padding: 10px 20px; border-radius: 8px; border: none; font-weight: bold; cursor: pointer; color: white; transition: 0.2s; }
        .btn-org { background: #ff9800; } .btn-red { background: #d32f2f; } .btn-brn { background: #5d4037; }
        .action-btn:hover { transform: translateY(-2px); filter: brightness(1.1); }

        /* ì¸ë¬¼ ë¦¬ìŠ¤íŠ¸ */
        .category-title { font-weight: bold; padding: 10px; border-radius: 6px; margin: 20px 0 10px 0; color: white; text-align: left; background: #4e342e; }
        .char-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(90px, 1fr)); gap: 10px; }
        .char-card { background: white; border-radius: 10px; padding: 10px; cursor: pointer; border: 2px solid #ddd; transition: 0.3s; display: flex; flex-direction: column; align-items: center; }
        .char-card:hover { transform: scale(1.08); border-color: #ff9800; background: #fff8e1; }
        
        /* â˜… ìˆ˜ì •ë¨: ì¸ë„¤ì¼ ë°•ìŠ¤ (ì´ë¯¸ì§€ ê¹¨ì§€ë©´ ì´ëª¨ì§€ ë‚˜ì˜´) */
        .thumb-box { width: 70px; height: 70px; border-radius: 50%; overflow: hidden; background: #fff3e0; border: 2px solid #ccc; margin-bottom: 5px; position: relative; display:flex; justify-content:center; align-items:center;}
        .thumb-box img { width: 100%; height: 100%; object-fit: cover; position: absolute; top:0; left:0; }
        .thumb-fallback { font-size: 35px; line-height: 70px; }

        /* ê²Œì„ í™”ë©´ */
        .game-header { display: flex; justify-content: space-between; font-weight: bold; color: #555; margin-bottom: 5px; }
        .progress-bar { width: 100%; height: 10px; background: #ddd; border-radius: 5px; margin-bottom: 20px; overflow: hidden; }
        .progress-fill { height: 100%; width: 0%; background: linear-gradient(to right, #ff9800, #ff5722); transition: 0.5s; }
        
        /* ê²Œì„ ë©”ì¸ ì´ë¯¸ì§€ ë°•ìŠ¤ */
        .big-img-box { width: 150px; height: 150px; border-radius: 50%; margin: 0 auto 20px; border: 5px solid #8d6e63; background: #fff3e0; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.3); position: relative; display:flex; justify-content:center; align-items:center;}
        .big-img-box img { width: 100%; height: 100%; object-fit: cover; position:absolute; top:0; left:0; }
        .big-fallback { font-size: 70px; }

        .emotion-box { background: #fff3e0; padding: 15px; border-radius: 10px; margin-bottom: 20px; font-style: italic; color: #e65100; font-weight: bold; border-left: 6px solid #ff9800; }
        .choice-btn { width: 100%; padding: 15px; margin-bottom: 10px; font-size: 1.1em; cursor: pointer; border: none; border-radius: 10px; background: #5d4037; color: white; font-weight: bold; transition: 0.2s; }
        .choice-btn:hover { background: #795548; }

        /* ê¸€ì“°ê¸° í™”ë©´ */
        .input-group { text-align: left; margin-bottom: 15px; }
        .input-label { display: block; font-weight: bold; margin-bottom: 5px; color: #3e2723; }
        .input-field { width: 100%; padding: 10px; border: 2px solid #bcaaa4; border-radius: 5px; font-size: 1em; box-sizing: border-box; }

        /* ì‹ ë¬¸ í™”ë©´ */
        #newspaper-area { background-color: #fdf5e6; padding: 40px; border: 1px solid #ccc; text-align: left; }
        .news-title { font-size: 3em; font-weight: bold; font-family: serif; text-align: center; border-bottom: 4px double #333; margin-bottom: 30px; padding-bottom: 10px; }
        .article-card { border: 1px solid #999; padding: 20px; background: white; margin-bottom: 20px; box-shadow: 3px 3px 5px rgba(0,0,0,0.1); }
        .article-hl { font-size: 1.4em; font-weight: bold; border-bottom: 1px solid #ddd; margin-bottom: 10px; padding-bottom: 5px; }

        .hidden { display: none; }

        @media print {
            .no-print { display: none !important; }
            body, .container { background: white; border: none; box-shadow: none; margin: 0; width: 100%; max-width: 100%; }
            #bg-layer, .bg-overlay { display: none; }
            #newspaper-area { border: none; }
        }
    </style>
</head>
<body>

<div id="bg-layer"></div>
<div class="bg-overlay"></div>

<div class="container">
    
    <div id="screen-select">
        <h1>ğŸ•°ï¸ EAIM ì—­ì‚¬ ì‹ ë¬¸ì‚¬</h1>
        <p class="subtitle">ë°°ê²½ì´ ì‚´ì•„ ì›€ì§ì´ëŠ” ìƒìƒí•œ ì—­ì‚¬ íƒí—˜</p>

        <div class="btn-menu">
            <button class="action-btn btn-org" onclick="showNewspaper()">ğŸ“° ë‚´ ì‹ ë¬¸ ë³´ê¸°</button>
            <button class="action-btn btn-red" onclick="resetAll()">ğŸ—‘ï¸ ì´ˆê¸°í™”</button>
        </div>

        <div class="category-title">ğŸ‘‘ ê³ ë‡Œí•˜ëŠ” ë¦¬ë”</div><div class="char-grid" id="list-leader"></div>
        <div class="category-title">ğŸ¨ ì°½ì˜ì ì¸ ì¸ì¬</div><div class="char-grid" id="list-creator"></div>
        <div class="category-title">ğŸ‡°ğŸ‡· ìš©ê¸° ìˆëŠ” ì˜ì›…</div><div class="char-grid" id="list-hero"></div>
        <div class="category-title">ğŸŒ¾ í‰ë²”í•œ ìš°ë¦¬ë“¤</div><div class="char-grid" id="list-common"></div>
    </div>

    <div id="screen-game" class="hidden">
        <div class="game-header"><span>History Adventure</span><span id="step-txt">Scene 1</span></div>
        <div class="progress-bar"><div id="progress-fill" class="progress-fill"></div></div>

        <div class="big-img-box">
            <div class="big-fallback" id="game-fallback"></div>
            <img id="game-img" onerror="this.style.display='none'">
        </div>

        <h2 id="game-name"></h2>
        <div class="emotion-box">"ğŸ’¡ <span id="game-emotion"></span>"</div>
        <p id="game-situation" style="font-size:1.1em; line-height:1.6;"></p>

        <div id="choices">
            <button class="choice-btn" onclick="nextStep(1)">ì„ íƒì§€ 1</button>
            <button class="choice-btn" onclick="nextStep(2)">ì„ íƒì§€ 2</button>
        </div>
    </div>

    <div id="screen-write" class="hidden">
        <h2>âœï¸ ê¸°ìë‹¨ ì‹¬ì¸µ ì·¨ì¬</h2>
        <p>í˜„ì¥ì˜ ê°ë™ì„ ê¸°ì‚¬ë¡œ ë‚¨ê²¨ì£¼ì„¸ìš”.</p>
        <div class="big-img-box" style="width:100px; height:100px;">
            <div class="big-fallback" id="write-fallback" style="font-size:50px;"></div>
            <img id="write-img" onerror="this.style.display='none'">
        </div>

        <div class="input-group"><label class="input-label">1. [í—¤ë“œë¼ì¸] ì‚¬ê±´ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ?</label><input type="text" id="inp-hl" class="input-field"></div>
        <div class="input-group"><label class="input-label">2. [íŒ©íŠ¸] ë¬´ì—‡ì„ ë³´ì•˜ë‚˜ìš”?</label><input type="text" id="inp-evt" class="input-field"></div>
        <div class="input-group"><label class="input-label">3. [ê³µê°] ì¸ë¬¼ì˜ ì‹¬ì •ì€?</label><input type="text" id="inp-emo" class="input-field"></div>
        <div class="input-group"><label class="input-label">4. [ìƒê°] ë‚˜ë¼ë©´ ì–´ë• ì„ê¹Œìš”?</label><input type="text" id="inp-th" class="input-field"></div>

        <button class="choice-btn btn-org" onclick="saveArticle()">ğŸ“° ê¸°ì‚¬ ë°œí–‰ ì™„ë£Œ!</button>
    </div>

    <div id="screen-news" class="hidden">
        <div id="newspaper-area">
            <div class="news-title">THE HISTORY TIMES</div>
            <div id="news-content"></div>
        </div>
        <div class="btn-menu no-print" style="margin-top:20px;">
            <button class="action-btn btn-brn" onclick="window.print()">ğŸ–¨ï¸ ì¸ì‡„ / ì €ì¥</button>
            <button class="action-btn btn-org" onclick="goHome()">ğŸ  í™ˆìœ¼ë¡œ</button>
        </div>
    </div>

</div>

<audio id="bgm-player"></audio>

<script>
    // â˜… ì•ˆì •ì ì¸ ìœ„í‚¤ë¯¸ë””ì–´ ì´ë¯¸ì§€ ì‚¬ìš©
    const BG_HOME = "https://upload.wikimedia.org/wikipedia/commons/e/e3/Gyeongbokgung_Palace.jpg"; 
    const BG_SEA = "https://upload.wikimedia.org/wikipedia/commons/thumb/c/cd/Korean_sea.jpg/1280px-Korean_sea.jpg";
    const BG_WAR = "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/March_1st_Movement_Pagoda_Park.jpg/1024px-March_1st_Movement_Pagoda_Park.jpg"; 
    const BG_ROOM = "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Tripitaka_Koreana_depositories_Haeinsa.jpg/1280px-Tripitaka_Koreana_depositories_Haeinsa.jpg";

    const DB = [
        { id: 0, cat: "leader", name: "ì„¸ì¢…ëŒ€ì™•", emo: "ğŸ¤´", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/Sejong_the_Great.jpg/300px-Sejong_the_Great.jpg", audio: "https://actions.google.com/sounds/v1/crowds/battle_crowd_celebrate_stutter.ogg", story: [{bg:BG_HOME, em:"ë‹µë‹µí•¨", sit:"ì‹ í•˜ë“¤ì´ ë°˜ëŒ€í•©ë‹ˆë‹¤.", a:"ì„¤ë“í•œë‹¤", b:"í¬ê¸°í•œë‹¤"}, {bg:BG_ROOM, em:"ê³ ë‡Œ", sit:"ê¸€ì ëª¨ì–‘ì€?", a:"ì… ëª¨ì–‘ ë³¸ëœ¸", b:"ì˜› ê¸€ì ëª¨ë°©"}, {bg:BG_HOME, em:"í™˜í¬", sit:"í•œê¸€ ì™„ì„±!", a:"ìš©ë¹„ì–´ì²œê°€", b:"ë²½ë³´"}] },
        { id: 1, cat: "hero", name: "ì´ìˆœì‹ ", emo: "âš”ï¸", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c6/Yi_Sun-sin_portrait.jpg/300px-Yi_Sun-sin_portrait.jpg", audio: "https://actions.google.com/sounds/v1/water/waves_crashing_on_rock_beach.ogg", story: [{bg:BG_SEA, em:"ë¹„ì¥í•¨", sit:"12ì²™ ëŒ€ ìˆ˜ë°± ì²™.", a:"ì£½ê³ ì í•˜ë©´ ì‚°ë‹¤", b:"ë„ë§"}, {bg:BG_SEA, em:"ëƒ‰ì² ", sit:"ì „íˆ¬ ì¥ì†Œ?", a:"ìš¸ëŒëª©", b:"ë„“ì€ ë°”ë‹¤"}, {bg:BG_SEA, em:"ìŠ¹ë¦¬", sit:"ì „êµ° ëŒê²©!", a:"ëŒê²©", b:"í›„í‡´"}] },
        { id: 2, cat: "hero", name: "ìœ ê´€ìˆœ", emo: "ğŸ‡°ğŸ‡·", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9c/Yu_Gwan-sun_1.jpg/300px-Yu_Gwan-sun_1.jpg", story:[{bg:BG_WAR, em:"ìŠ¬í””", sit:"ë§Œì„¸ìš´ë™ ì¤€ë¹„", a:"ë§Œì„¸", b:"..."}, {bg:BG_WAR, em:"ê²°ì˜", sit:"ë´‰í™” ì‹ í˜¸", a:"ë¶ˆì„ ì¼ ë‹¤", b:"ì”ë‹¤"}, {bg:BG_WAR, em:"í¬ìƒ", sit:"ëŒ€í•œë…ë¦½ë§Œì„¸!", a:"ì™¸ì¹œë‹¤", b:"ìˆ¨ëŠ”ë‹¤"}] },
        { id: 3, cat: "creator", name: "ì¥ì˜ì‹¤", emo: "â˜”", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d6/Jang_Yeong-sil.jpg/300px-Jang_Yeong-sil.jpg", story:[{bg:BG_HOME, em:"ì—´ì •", sit:"ë¹„ì˜ ì–‘ ì¸¡ì •", a:"ì¸¡ìš°ê¸°", b:"ê·¸ë¦‡"}, {bg:BG_HOME, em:"ì§‘ì¤‘", sit:"ë¬¼ì‹œê³„", a:"ìê²©ë£¨", b:"í•´ì‹œê³„"}, {bg:BG_HOME, em:"ë¿Œë“¯", sit:"ê³¼í•™ ë°œì „", a:"ë§Œì„¸", b:"..."}] },
        { id: 4, cat: "leader", name: "ì •ì¡°", emo: "ğŸ°", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/King_Jeongjo.jpg/300px-King_Jeongjo.jpg", story:[{bg:BG_HOME, em:"íš¨ì‹¬", sit:"ìˆ˜ì› í™”ì„± ì¶•ì¡°", a:"ê±°ì¤‘ê¸° ì‚¬ìš©", b:"ê·¸ëƒ¥"}, {bg:BG_HOME, em:"ì‚¬ë‘", sit:"í’ˆì‚¯ ì§€ê¸‰", a:"ì¤€ë‹¤", b:"ì•ˆì¤€ë‹¤"}, {bg:BG_HOME, em:"ê¿ˆ", sit:"ê°œí˜", a:"ì¶”ì§„", b:"ìœ ì§€"}] },
        { id: 5, cat: "leader", name: "ì„ ë•ì—¬ì™•", emo: "ğŸ‘‘", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Queen_Seondeok_statue.jpg/300px-Queen_Seondeok_statue.jpg", story:[{bg:BG_HOME, em:"ì§€í˜œ", sit:"ë³„ ê´€ì¸¡", a:"ì²¨ì„±ëŒ€", b:"ì•ˆë´„"}, {bg:BG_HOME, em:"ìœ„ê¸°", sit:"ë°˜ë€", a:"ì—°ë‚ ë¦¬ê¸°", b:"ìˆ¨ìŒ"}, {bg:BG_HOME, em:"í‰í™”", sit:"ì„œë¼ë²Œ", a:"ë…¸ë˜", b:"ì¶¤"}] },
        { id: 6, cat: "creator", name: "ê¹€í™ë„", emo: "ğŸ¨", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/94/Kim_Hongdo.jpg/300px-Kim_Hongdo.jpg", story:[{bg:BG_WAR, em:"í¥", sit:"ì”¨ë¦„íŒ", a:"ê·¸ë¦°ë‹¤", b:"ì•ˆê·¸ë¦¼"}, {bg:BG_HOME, em:"ê´€ì°°", sit:"ì„œë‹¹", a:"ê·¸ë¦°ë‹¤", b:"í˜¼ëƒ„"}, {bg:BG_HOME, em:"ì˜ˆìˆ ", sit:"í’ì†í™”", a:"ì „ì‹œ", b:"ë³´ê´€"}] },
        { id: 7, cat: "creator", name: "ì‹ ì‚¬ì„ë‹¹", emo: "ğŸ‡", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/Shin_Saimdang.jpg/300px-Shin_Saimdang.jpg", story:[{bg:BG_HOME, em:"ì„¬ì„¸", sit:"í’€ë²Œë ˆ", a:"ì´ˆì¶©ë„", b:"ì¡ìŒ"}, {bg:BG_HOME, em:"êµìœ¡", sit:"ìœ¨ê³¡ì´ì´", a:"ê°€ë¥´ì¹¨", b:"ë†€ê²Œí•¨"}, {bg:BG_HOME, em:"ì˜ˆìˆ ", sit:"ì™„ì„±", a:"ê°ìƒ", b:"..."}] },
        { id: 8, cat: "hero", name: "ì•ˆì¤‘ê·¼", emo: "ğŸ”«", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/Ahn_Jung-geun.jpg/300px-Ahn_Jung-geun.jpg", story:[{bg:BG_WAR, em:"ë¶„ë…¸", sit:"ì´í†  íˆë¡œë¶€ë¯¸", a:"ì €ê²© ê³„íš", b:"ë¬´ì‹œ"}, {bg:BG_WAR, em:"ê²°ì˜", sit:"í•˜ì–¼ë¹ˆ ì—­", a:"íƒ•!íƒ•!", b:"ì·¨ì†Œ"}, {bg:BG_WAR, em:"í‰í™”", sit:"ë™ì–‘í‰í™”ë¡ ", a:"ì§‘í•„", b:"..."}] },
        { id: 9, cat: "common", name: "í•™ë„ë³‘", emo: "ğŸ’", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c6/Student_Soldiers_in_Pohang.jpg/300px-Student_Soldiers_in_Pohang.jpg", story:[{bg:BG_WAR, em:"ê³µí¬", sit:"ì „ìŸ ë°œë°œ", a:"ì°¸ì „", b:"í”¼ë‚œ"}, {bg:BG_WAR, em:"ê·¸ë¦¬ì›€", sit:"ì–´ë¨¸ë‹ˆ ì „ìƒì„œ", a:"ì“´ë‹¤", b:"ì•ˆì”€"}, {bg:BG_WAR, em:"ìš©ê¸°", sit:"ë‚™ë™ê°•", a:"ì‚¬ìˆ˜", b:"í›„í‡´"}] }
    ];

    let curChar = null;
    let step = 0;
    const listMap = { leader: "list-leader", creator: "list-creator", hero: "list-hero", common: "list-common" };
    
    // ë²„íŠ¼ ìƒì„± (ì´ë¯¸ì§€ ê¹¨ì§ ë°©ì§€: ì´ëª¨ì§€ê°€ ê¸°ë³¸ìœ¼ë¡œ ìˆê³ , ì´ë¯¸ì§€ê°€ ë®ëŠ” êµ¬ì¡°)
    DB.forEach(char => {
        const btn = document.createElement('div');
        btn.className = 'char-card';
        btn.innerHTML = `
            <div class="thumb-box">
                <div class="thumb-fallback">${char.emo}</div>
                <img src="${char.img}" onerror="this.style.display='none'">
            </div>
            <div style="font-size:0.9em; font-weight:bold;">${char.name}</div>
        `;
        btn.onclick = () => startGame(char);
        const target = document.getElementById(listMap[char.cat]);
        if(target) target.appendChild(btn);
    });

    function setBG(url) { document.getElementById('bg-layer').style.backgroundImage = `url('${url || BG_HOME}')`; }
    function showScreen(id) { ['screen-select','screen-game','screen-write','screen-news'].forEach(s => document.getElementById(s).classList.add('hidden')); document.getElementById(id).classList.remove('hidden'); }

    function startGame(char) {
        curChar = char; step = 0;
        showScreen('screen-game');
        
        // ë©”ì¸ ì´ë¯¸ì§€ ì„¤ì •
        document.getElementById('game-fallback').innerText = char.emo;
        const img = document.getElementById('game-img');
        img.style.display = 'block';
        img.src = char.img; 

        document.getElementById('game-name').innerText = char.name;
        renderStep();
    }

    function renderStep() {
        const sData = curChar.story[step];
        setBG(sData.bg);
        document.getElementById('step-txt').innerText = `Scene ${step+1} / ${curChar.story.length}`;
        document.getElementById('progress-bar').style.width = `${((step)/curChar.story.length)*100}%`;
        document.getElementById('game-emotion').innerText = sData.em;
        document.getElementById('game-situation').innerText = sData.sit;
        const btns = document.querySelectorAll('#choices button');
        btns[0].innerText = sData.a; btns[1].innerText = sData.b;
    }

    function nextStep(idx) {
        if(idx === 1) {
            if(step < curChar.story.length - 1) { step++; renderStep(); } else { goWrite(); }
        } else { alert("ì—­ì‚¬ê°€ ë‹¤ë¥¸ ë°©í–¥ìœ¼ë¡œ í˜ëŸ¬ê°‘ë‹ˆë‹¤. ë‹¤ì‹œ ì„ íƒí•´ì£¼ì„¸ìš”."); }
    }

    function goWrite() {
        showScreen('screen-write'); setBG(BG_HOME);
        document.getElementById('write-fallback').innerText = curChar.emo;
        const img = document.getElementById('write-img');
        img.style.display = 'block';
        img.src = curChar.img;
        ['inp-hl','inp-evt','inp-emo','inp-th'].forEach(id => document.getElementById(id).value = '');
    }

    function saveArticle() {
        const hl = document.getElementById('inp-hl').value;
        const evt = document.getElementById('inp-evt').value;
        const emo = document.getElementById('inp-emo').value;
        const th = document.getElementById('inp-th').value;
        if(!hl) { alert("í—¤ë“œë¼ì¸ì€ ê¼­ ì ì–´ì£¼ì„¸ìš”!"); return; }

        const article = { id: Date.now(), name: curChar.name, img: curChar.img, emo: curChar.emo, hl: hl, evt: evt, emoTxt: emo, th: th, date: new Date().toLocaleDateString() };
        let news = JSON.parse(localStorage.getItem('myHistoryNews')) || [];
        news.push(article);
        localStorage.setItem('myHistoryNews', JSON.stringify(news));

        alert("ğŸ“° ê¸°ì‚¬ ë°œí–‰ ì„±ê³µ!");
        const audio = document.getElementById('bgm-player');
        if(curChar.audio) { audio.src = curChar.audio; audio.play(); }
        showNewspaper();
    }

    function showNewspaper() {
        showScreen('screen-news'); setBG(BG_HOME);
        const area = document.getElementById('news-content'); area.innerHTML = "";
        let news = JSON.parse(localStorage.getItem('myHistoryNews')) || [];
        if(news.length === 0) { area.innerHTML = "<p style='text-align:center;'>ë°œí–‰ëœ ê¸°ì‚¬ê°€ ì—†ìŠµë‹ˆë‹¤.</p>"; return; }
        news.slice().reverse().forEach(a => {
            const div = document.createElement('div'); div.className = 'article-card';
            // ê¸°ì‚¬ì—ì„œë„ ì´ë¯¸ì§€ ê¹¨ì§€ë©´ ì´ëª¨ì§€ ë‚˜ì˜¤ë„ë¡
            div.innerHTML = `<div class="article-hl">${a.hl}</div><div style="display:flex; gap:15px; align-items:center;"><div style="width:80px; height:80px; border-radius:50%; overflow:hidden; flex-shrink:0; border:1px solid #ddd; position:relative; display:flex; justify-content:center; align-items:center; font-size:40px; background:#fff;"><div style="position:absolute;">${a.emo}</div><img src="${a.img}" style="width:100%; height:100%; object-fit:cover; position:relative;" onerror="this.style.display='none'"></div><div><b>[ì¸ë¬¼]</b> ${a.name} &nbsp; <b>[ì‚¬ê±´]</b> ${a.evt}<br><b>[ì‹¬ì •]</b> ${a.emoTxt}<br><b>[ìƒê°]</b> ${a.th}</div></div>`;
            area.appendChild(div);
        });
    }

    function goHome() { showScreen('screen-select'); setBG(BG_HOME); }
    function resetAll() { if(confirm("ì´ˆê¸°í™” í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) { localStorage.removeItem('myHistoryNews'); alert("ì´ˆê¸°í™” ì™„ë£Œ"); goHome(); } }
</script>
</body>
</html>