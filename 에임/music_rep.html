<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Music Activity Final (Fixed)</title>
<style>
    /* 1. ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
    body { font-family: 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', sans-serif; background: #eef2f5; padding: 20px; margin: 0; color:#333; line-height: 1.6; }
    .container { max-width: 800px; margin: 0 auto; background: white; padding: 40px; border-radius: 15px; border: 1px solid #ccc; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
    h1 { text-align: center; border-bottom: 3px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
    h2 { background: #e3f2fd; padding: 12px; color: #1565c0; margin-top: 30px; font-size: 19px; border-radius: 8px; }
    .page { display: none; } 
    
    /* 2. ì…ë ¥ì°½ */
    input[type="text"], textarea { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; font-size: 15px; }
    textarea { height: 80px; resize: vertical; }

    /* 3. ë¼ë””ì˜¤ ë²„íŠ¼ (í´ë¦­ ë³´ì¥ - ì§ì ‘ ì½”ë”©) */
    input[type="radio"] { display: none; }
    
    /* ê°ì • ë‹¨ì–´ ë””ìì¸ */
    .word-box { display: flex; flex-wrap: wrap; gap: 6px; }
    .check-label {
        display: inline-block; padding: 8px 14px; background: white; border: 1px solid #bbb; border-radius: 20px;
        cursor: pointer; font-size: 14px; transition: 0.1s; user-select: none;
    }
    .check-label:hover { background: #f0f0f0; }
    input[type="radio"]:checked + .check-label {
        background: #2196F3; color: white; border-color: #2196F3; font-weight: bold; transform: scale(1.05); box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }

    /* ìƒ‰ê¹” ë²„íŠ¼ ë””ìì¸ (í™•ì‹¤í•˜ê²Œ í´ë¦­ë˜ë„ë¡ ìˆ˜ì •) */
    .color-box { display: flex; flex-wrap: wrap; gap: 12px; margin-top: 10px; }
    .color-label { display: inline-block; text-align: center; cursor: pointer; width: 50px; vertical-align: top; }
    .color-circle { 
        width: 40px; height: 40px; border-radius: 50%; border: 3px solid #eee; display: block; margin: 0 auto 5px; 
        box-sizing: border-box; /* í…Œë‘ë¦¬ í¬í•¨ í¬ê¸° ê³„ì‚° */
    }
    .color-name { font-size: 12px; color: #666; font-weight: bold; }
    
    /* ì„ íƒë˜ì—ˆì„ ë•Œ íš¨ê³¼ */
    input[type="radio"]:checked + .color-label .color-circle { 
        border: 4px solid #333; transform: scale(1.15); box-shadow: 0 0 8px rgba(0,0,0,0.3);
    }
    input[type="radio"]:checked + .color-label .color-name { color: #2196F3; }

    /* 4. ë³„ì  */
    .star-box { font-size: 24px; color: #ddd; cursor: pointer; user-select: none; display: flex; gap: 10px; }
    .star-label { cursor: pointer; }
    input[type="radio"]:checked + .star-label { color: #f1c40f; transform: scale(1.2); text-shadow: 0 0 5px #f1c40f; }

    /* 5. ë²„íŠ¼ */
    .nav-box { margin-top: 40px; text-align: right; border-top: 2px solid #eee; padding-top: 20px; }
    .btn { padding: 12px 25px; background: #2196F3; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold; }
    .prev { background: #90a4ae; float: left; }
    .ai-btn { background: linear-gradient(135deg, #6c5ce7, #a29bfe); width: 100%; margin-top: 20px; font-size: 18px; padding: 15px; }

    /* 6. ìº”ë²„ìŠ¤ & ë¡œë”© */
    canvas { border: 2px dashed #999; background: white; width: 100%; display: block; cursor: crosshair; margin-top: 10px; }
    #loading { display: none; text-align: center; padding: 50px; }
    .spinner { width: 40px; height: 40px; border: 5px solid #f3f3f3; border-top: 5px solid #6c5ce7; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 15px; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    
    @media print { .btn, .nav-box { display: none; } body { padding: 0; background: white; } .container { border: none; box-shadow: none; } }
</style>
</head>
<body>

<div class="container">
    <h1>ğŸµ ìŒì•… ê°ìƒ í™œë™ì§€</h1>

    <div id="p1" class="page" style="display: block;">
        <div style="background:#f8f9fa; padding:15px; border-radius:10px; display:flex; gap:10px; margin-bottom:20px;">
            <input type="text" id="gr" placeholder="í•™ë…„" style="width:60px; text-align:center;">
            <input type="text" id="cl" placeholder="ë°˜" style="width:60px; text-align:center;">
            <input type="text" id="num" placeholder="ë²ˆí˜¸" style="width:60px; text-align:center;">
            <input type="text" id="nm" placeholder="ì´ë¦„ (í•„ìˆ˜)" style="flex-grow:1;">
        </div>

        <h2>Step 1. ë§Œë‚¨ê³¼ ì¤€ë¹„</h2>
        <label><strong>ê³¡ ì œëª©</strong></label><input type="text" id="ti">
        <label><strong>ì‘ê³¡ê°€</strong></label><input type="text" id="cp">
        <label><strong>ë°°ê²½ ì§€ì‹</strong></label><textarea id="bg" placeholder="ì´ ê³¡ì— ëŒ€í•´ ì•Œê³  ìˆëŠ” ì ì´ ìˆë‚˜ìš”?"></textarea>
        
        <hr style="margin: 20px 0;">
        <p><strong>1. ê°ìƒ ì „ ê¸°ë¶„</strong></p>
        <div class="word-box">
            <input type="radio" name="e1" id="e1_1" value="í”¼ê³¤í•œ"><label for="e1_1" class="check-label">í”¼ê³¤í•œ</label>
            <input type="radio" name="e1" id="e1_2" value="ì‹ ë‚˜ëŠ”"><label for="e1_2" class="check-label">ì‹ ë‚˜ëŠ”</label>
            <input type="radio" name="e1" id="e1_3" value="í‰ì˜¨í•œ"><label for="e1_3" class="check-label">í‰ì˜¨í•œ</label>
            <input type="radio" name="e1" id="e1_4" value="ë°°ê³ í”ˆ"><label for="e1_4" class="check-label">ë°°ê³ í”ˆ</label>
            <input type="radio" name="e1" id="e1_5" value="ì§œì¦ë‚œ"><label for="e1_5" class="check-label">ì§œì¦ë‚œ</label>
            <input type="radio" name="e1" id="e1_6" value="ì„¤ë ˆëŠ”"><label for="e1_6" class="check-label">ì„¤ë ˆëŠ”</label>
            <input type="radio" name="e1" id="e1_7" value="ìš°ìš¸í•œ"><label for="e1_7" class="check-label">ìš°ìš¸í•œ</label>
            <input type="radio" name="e1" id="e1_8" value="ì‹¬ì‹¬í•œ"><label for="e1_8" class="check-label">ì‹¬ì‹¬í•œ</label>
            <input type="radio" name="e1" id="e1_9" value="ê¸´ì¥ëœ"><label for="e1_9" class="check-label">ê¸´ì¥ëœ</label>
            <input type="radio" name="e1" id="e1_10" value="í–‰ë³µí•œ"><label for="e1_10" class="check-label">í–‰ë³µí•œ</label>
            <input type="radio" name="e1" id="e1_11" value="ì¡¸ë¦°"><label for="e1_11" class="check-label">ì¡¸ë¦°</label>
            <input type="radio" name="e1" id="e1_12" value="ê¸°ëŒ€ë˜ëŠ”"><label for="e1_12" class="check-label">ê¸°ëŒ€ë˜ëŠ”</label>
            <input type="radio" name="e1" id="e1_13" value="ë©í•œ"><label for="e1_13" class="check-label">ë©í•œ</label>
            <input type="radio" name="e1" id="e1_14" value="ìƒì¾Œí•œ"><label for="e1_14" class="check-label">ìƒì¾Œí•œ</label>
            <input type="radio" name="e1" id="e1_15" value="ê±±ì •ë˜ëŠ”"><label for="e1_15" class="check-label">ê±±ì •ë˜ëŠ”</label>
            <input type="radio" name="e1" id="e1_16" value="í¸ì•ˆí•œ"><label for="e1_16" class="check-label">í¸ì•ˆí•œ</label>
            <input type="radio" name="e1" id="e1_17" value="ë‹µë‹µí•œ"><label for="e1_17" class="check-label">ë‹µë‹µí•œ</label>
            <input type="radio" name="e1" id="e1_18" value="ì§€ë£¨í•œ"><label for="e1_18" class="check-label">ì§€ë£¨í•œ</label>
            <input type="radio" name="e1" id="e1_19" value="ì¦ê±°ìš´"><label for="e1_19" class="check-label">ì¦ê±°ìš´</label>
            <input type="radio" name="e1" id="e1_20" value="ë¿Œë“¯í•œ"><label for="e1_20" class="check-label">ë¿Œë“¯í•œ</label>
        </div>

        <p style="margin-top:20px;"><strong>2. ê°ìƒ ì „ ë§ˆìŒ ìƒ‰ê¹”</strong></p>
        <div class="color-box">
            <input type="radio" name="c1" id="c1_1" value="ë¹¨ê°•"><label for="c1_1" class="color-label"><span class="color-circle" style="background:#ff4d4d;"></span><span class="color-name">ë¹¨ê°•</span></label>
            <input type="radio" name="c1" id="c1_2" value="ì£¼í™©"><label for="c1_2" class="color-label"><span class="color-circle" style="background:#ff9f43;"></span><span class="color-name">ì£¼í™©</span></label>
            <input type="radio" name="c1" id="c1_3" value="ë…¸ë‘"><label for="c1_3" class="color-label"><span class="color-circle" style="background:#feca57;"></span><span class="color-name">ë…¸ë‘</span></label>
            <input type="radio" name="c1" id="c1_4" value="ì—°ë‘"><label for="c1_4" class="color-label"><span class="color-circle" style="background:#badc58;"></span><span class="color-name">ì—°ë‘</span></label>
            <input type="radio" name="c1" id="c1_5" value="ì´ˆë¡"><label for="c1_5" class="color-label"><span class="color-circle" style="background:#6ab04c;"></span><span class="color-name">ì´ˆë¡</span></label>
            <input type="radio" name="c1" id="c1_6" value="ì²­ë¡"><label for="c1_6" class="color-label"><span class="color-circle" style="background:#1abc9c;"></span><span class="color-name">ì²­ë¡</span></label>
            <input type="radio" name="c1" id="c1_7" value="í•˜ëŠ˜"><label for="c1_7" class="color-label"><span class="color-circle" style="background:#48dbfb;"></span><span class="color-name">í•˜ëŠ˜</span></label>
            <input type="radio" name="c1" id="c1_8" value="íŒŒë‘"><label for="c1_8" class="color-label"><span class="color-circle" style="background:#2e86de;"></span><span class="color-name">íŒŒë‘</span></label>
            <input type="radio" name="c1" id="c1_9" value="ë‚¨ìƒ‰"><label for="c1_9" class="color-label"><span class="color-circle" style="background:#2c3e50;"></span><span class="color-name">ë‚¨ìƒ‰</span></label>
            <input type="radio" name="c1" id="c1_10" value="ë³´ë¼"><label for="c1_10" class="color-label"><span class="color-circle" style="background:#a55eea;"></span><span class="color-name">ë³´ë¼</span></label>
            <input type="radio" name="c1" id="c1_11" value="ë¶„í™"><label for="c1_11" class="color-label"><span class="color-circle" style="background:#ff9ff3;"></span><span class="color-name">ë¶„í™</span></label>
            <input type="radio" name="c1" id="c1_12" value="ê°ˆìƒ‰"><label for="c1_12" class="color-label"><span class="color-circle" style="background:#8d6e63;"></span><span class="color-name">ê°ˆìƒ‰</span></label>
            <input type="radio" name="c1" id="c1_13" value="íšŒìƒ‰"><label for="c1_13" class="color-label"><span class="color-circle" style="background:#95a5a6;"></span><span class="color-name">íšŒìƒ‰</span></label>
            <input type="radio" name="c1" id="c1_14" value="ê²€ì •"><label for="c1_14" class="color-label"><span class="color-circle" style="background:#2d3436;"></span><span class="color-name">ê²€ì •</span></label>
            <input type="radio" name="c1" id="c1_15" value="í°ìƒ‰"><label for="c1_15" class="color-label"><span class="color-circle" style="background:#ffffff; border:1px solid #ccc;"></span><span class="color-name">í°ìƒ‰</span></label>
        </div>

        <div class="nav-box"><button class="btn" onclick="mv(2)">ë‹¤ìŒ âœ</button></div>
    </div>

    <div id="p2" class="page">
        <h2>Step 2. ê·€ë¡œ ë“£ëŠ” íƒí—˜</h2>
        <label><strong>1. ì•…ê¸° ì†Œë¦¬</strong></label><input type="text" id="q1" placeholder="ê°€ì¥ ì˜ ë“¤ë¦¬ëŠ” ì•…ê¸°ëŠ”?">
        <label><strong>2. ì†ë„ì™€ ë¦¬ë“¬</strong></label><input type="text" id="q2" placeholder="ë¹ ë¥¸ê°€ìš”? ê²½ì¾Œí•œê°€ìš”?">
        <label><strong>3. ê°•ì•½ ì¡°ì ˆ</strong></label><input type="text" id="q3" placeholder="ì ì  ì›…ì¥í•´ì§€ë‚˜ìš”?">
        <label><strong>4. ë©œë¡œë””</strong></label><input type="text" id="q4" placeholder="ê¸°ì–µì— ë‚¨ëŠ” ë©œë¡œë””ëŠ”?">
        
        <label style="color:#2196F3;"><strong>â˜… 5. ê³¡ì˜ ë¶„ìœ„ê¸°</strong></label><input type="text" id="q5" placeholder="ë°ìŒ, ì–´ë‘ì›€, ì‹ ë¹„ë¡œì›€ ë“±">
        <label style="color:#2196F3;"><strong>â˜… 6. ì—°ì£¼ ë°©ì‹</strong></label><input type="text" id="q6" placeholder="ë¶€ë“œëŸ½ê²Œ ì´ì–´ì§, ëšëš ëŠì–´ì§ ë“±">
        
        <div class="nav-box"><button class="btn prev" onclick="mv(1)">ì´ì „</button><button class="btn" onclick="mv(3)">ë‹¤ìŒ âœ</button></div>
    </div>

    <div id="p3" class="page">
        <h2>Step 3. ë§ˆìŒìœ¼ë¡œ ëŠë¼ê¸°</h2>
        <p><strong>1. ê°ì • ê·¸ë˜í”„ (ê·¸ë¦¬ê¸°)</strong></p>
        <canvas id="cv" width="700" height="200"></canvas>
        <button onclick="clr()" style="margin-top:5px; padding:5px;">ì§€ìš°ê°œ</button>

        <label style="margin-top:20px; display:block; color:#2196F3;"><strong>â˜… 2. ìƒìƒë˜ëŠ” ì¥ë©´</strong></label>
        <textarea id="q7" placeholder="ì´ ìŒì•…ì´ ë°°ê²½ìŒì•…ì´ë¼ë©´ ì–´ë–¤ ì¥ë©´ì¼ê¹Œìš”? (ì˜ˆ: ë¹„ ì˜¤ëŠ” ìˆ²ì†, ì „íˆ¬ ì¥ë©´)"></textarea>

        <p style="margin-top:20px;"><strong>3. ê°ìƒ í›„ ìƒ‰ê¹”</strong></p>
        <div class="color-box">
            <input type="radio" name="c2" id="c2_1" value="ë¹¨ê°•"><label for="c2_1" class="color-label"><span class="color-circle" style="background:#ff4d4d;"></span><span class="color-name">ë¹¨ê°•</span></label>
            <input type="radio" name="c2" id="c2_2" value="ì£¼í™©"><label for="c2_2" class="color-label"><span class="color-circle" style="background:#ff9f43;"></span><span class="color-name">ì£¼í™©</span></label>
            <input type="radio" name="c2" id="c2_3" value="ë…¸ë‘"><label for="c2_3" class="color-label"><span class="color-circle" style="background:#feca57;"></span><span class="color-name">ë…¸ë‘</span></label>
            <input type="radio" name="c2" id="c2_4" value="ì—°ë‘"><label for="c2_4" class="color-label"><span class="color-circle" style="background:#badc58;"></span><span class="color-name">ì—°ë‘</span></label>
            <input type="radio" name="c2" id="c2_5" value="ì´ˆë¡"><label for="c2_5" class="color-label"><span class="color-circle" style="background:#6ab04c;"></span><span class="color-name">ì´ˆë¡</span></label>
            <input type="radio" name="c2" id="c2_6" value="ì²­ë¡"><label for="c2_6" class="color-label"><span class="color-circle" style="background:#1abc9c;"></span><span class="color-name">ì²­ë¡</span></label>
            <input type="radio" name="c2" id="c2_7" value="í•˜ëŠ˜"><label for="c2_7" class="color-label"><span class="color-circle" style="background:#48dbfb;"></span><span class="color-name">í•˜ëŠ˜</span></label>
            <input type="radio" name="c2" id="c2_8" value="íŒŒë‘"><label for="c2_8" class="color-label"><span class="color-circle" style="background:#2e86de;"></span><span class="color-name">íŒŒë‘</span></label>
            <input type="radio" name="c2" id="c2_9" value="ë‚¨ìƒ‰"><label for="c2_9" class="color-label"><span class="color-circle" style="background:#2c3e50;"></span><span class="color-name">ë‚¨ìƒ‰</span></label>
            <input type="radio" name="c2" id="c2_10" value="ë³´ë¼"><label for="c2_10" class="color-label"><span class="color-circle" style="background:#a55eea;"></span><span class="color-name">ë³´ë¼</span></label>
            <input type="radio" name="c2" id="c2_11" value="ë¶„í™"><label for="c2_11" class="color-label"><span class="color-circle" style="background:#ff9ff3;"></span><span class="color-name">ë¶„í™</span></label>
            <input type="radio" name="c2" id="c2_12" value="ê°ˆìƒ‰"><label for="c2_12" class="color-label"><span class="color-circle" style="background:#8d6e63;"></span><span class="color-name">ê°ˆìƒ‰</span></label>
            <input type="radio" name="c2" id="c2_13" value="íšŒìƒ‰"><label for="c2_13" class="color-label"><span class="color-circle" style="background:#95a5a6;"></span><span class="color-name">íšŒìƒ‰</span></label>
            <input type="radio" name="c2" id="c2_14" value="ê²€ì •"><label for="c2_14" class="color-label"><span class="color-circle" style="background:#2d3436;"></span><span class="color-name">ê²€ì •</span></label>
            <input type="radio" name="c2" id="c2_15" value="í°ìƒ‰"><label for="c2_15" class="color-label"><span class="color-circle" style="background:#ffffff; border:1px solid #ccc;"></span><span class="color-name">í°ìƒ‰</span></label>
        </div>

        <p style="margin-top:20px;"><strong>4. ê°ìƒ í›„ ê°ì •</strong></p>
        <div class="word-box">
            <input type="radio" name="e2" id="e2_1" value="ë²…ì°¨ì˜¤ë¥´ëŠ”"><label for="e2_1" class="check-label">ë²…ì°¨ì˜¤ë¥´ëŠ”</label>
            <input type="radio" name="e2" id="e2_2" value="í–‰ë³µí•œ"><label for="e2_2" class="check-label">í–‰ë³µí•œ</label>
            <input type="radio" name="e2" id="e2_3" value="ìƒì¾Œí•œ"><label for="e2_3" class="check-label">ìƒì¾Œí•œ</label>
            <input type="radio" name="e2" id="e2_4" value="ì‹ ë‚˜ëŠ”"><label for="e2_4" class="check-label">ì‹ ë‚˜ëŠ”</label>
            <input type="radio" name="e2" id="e2_5" value="í¸ì•ˆí•œ"><label for="e2_5" class="check-label">í¸ì•ˆí•œ</label>
            <input type="radio" name="e2" id="e2_6" value="ì°¨ë¶„í•œ"><label for="e2_6" class="check-label">ì°¨ë¶„í•œ</label>
            <input type="radio" name="e2" id="e2_7" value="ë”°ëœ»í•œ"><label for="e2_7" class="check-label">ë”°ëœ»í•œ</label>
            <input type="radio" name="e2" id="e2_8" value="ëª½í™˜ì ì¸"><label for="e2_8" class="check-label">ëª½í™˜ì ì¸</label>
            <input type="radio" name="e2" id="e2_9" value="ì‹ ë¹„ë¡œìš´"><label for="e2_9" class="check-label">ì‹ ë¹„ë¡œìš´</label>
            <input type="radio" name="e2" id="e2_10" value="ì›…ì¥í•œ"><label for="e2_10" class="check-label">ì›…ì¥í•œ</label>
            <input type="radio" name="e2" id="e2_11" value="ê·¸ë¦¬ìš´"><label for="e2_11" class="check-label">ê·¸ë¦¬ìš´</label>
            <input type="radio" name="e2" id="e2_12" value="ìŠ¬í”ˆ"><label for="e2_12" class="check-label">ìŠ¬í”ˆ</label>
            <input type="radio" name="e2" id="e2_13" value="ìš°ìš¸í•œ"><label for="e2_13" class="check-label">ìš°ìš¸í•œ</label>
            <input type="radio" name="e2" id="e2_14" value="ì™¸ë¡œìš´"><label for="e2_14" class="check-label">ì™¸ë¡œìš´</label>
            <input type="radio" name="e2" id="e2_15" value="ë¬´ì„œìš´"><label for="e2_15" class="check-label">ë¬´ì„œìš´</label>
            <input type="radio" name="e2" id="e2_16" value="ê¸´ì¥ë˜ëŠ”"><label for="e2_16" class="check-label">ê¸´ì¥ë˜ëŠ”</label>
            <input type="radio" name="e2" id="e2_17" value="ë¹„ì¥í•œ"><label for="e2_17" class="check-label">ë¹„ì¥í•œ</label>
            <input type="radio" name="e2" id="e2_18" value="ë‹µë‹µí•œ"><label for="e2_18" class="check-label">ë‹µë‹µí•œ</label>
            <input type="radio" name="e2" id="e2_19" value="í™”ë‚œ"><label for="e2_19" class="check-label">í™”ë‚œ</label>
            <input type="radio" name="e2" id="e2_20" value="ì§œì¦ë‚œ"><label for="e2_20" class="check-label">ì§œì¦ë‚œ</label>
            <input type="radio" name="e2" id="e2_21" value="ì§€ë£¨í•œ"><label for="e2_21" class="check-label">ì§€ë£¨í•œ</label>
            <input type="radio" name="e2" id="e2_22" value="ë†€ë¼ìš´"><label for="e2_22" class="check-label">ë†€ë¼ìš´</label>
            <input type="radio" name="e2" id="e2_23" value="ì¶©ê²©ì ì¸"><label for="e2_23" class="check-label">ì¶©ê²©ì ì¸</label>
            <input type="radio" name="e2" id="e2_24" value="ê°ë™ì ì¸"><label for="e2_24" class="check-label">ê°ë™ì ì¸</label>
            <input type="radio" name="e2" id="e2_25" value="ì‚¬ë‘ìŠ¤ëŸ°"><label for="e2_25" class="check-label">ì‚¬ë‘ìŠ¤ëŸ°</label>
            <input type="radio" name="e2" id="e2_26" value="í™œê¸°ì°¬"><label for="e2_26" class="check-label">í™œê¸°ì°¬</label>
            <input type="radio" name="e2" id="e2_27" value="ë©í•œ"><label for="e2_27" class="check-label">ë©í•œ</label>
            <input type="radio" name="e2" id="e2_28" value="ê¸°ëŒ€ë˜ëŠ”"><label for="e2_28" class="check-label">ê¸°ëŒ€ë˜ëŠ”</label>
            <input type="radio" name="e2" id="e2_29" value="ë¿Œë“¯í•œ"><label for="e2_29" class="check-label">ë¿Œë“¯í•œ</label>
            <input type="radio" name="e2" id="e2_30" value="ììœ ë¡œìš´"><label for="e2_30" class="check-label">ììœ ë¡œìš´</label>
        </div>

        <div class="nav-box"><button class="btn prev" onclick="mv(2)">ì´ì „</button><button class="btn" onclick="mv(4)">ë‹¤ìŒ âœ</button></div>
    </div>

    <div id="p4" class="page">
        <h2>Step 4. ë‚¨ê²¨ì§„ ì—¬ìš´ (ê²°ë¡ )</h2>
        <label><strong>1. í•œ ì¤„ ìš”ì•½</strong></label><input type="text" id="q8" placeholder="ì´ ê³¡ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ í‘œí˜„í•œë‹¤ë©´?">
        <label><strong>2. ì¶”ì²œ ëŒ€ìƒ</strong></label><input type="text" id="q9" placeholder="ëˆ„êµ¬ì—ê²Œ ì¶”ì²œí•˜ê³  ì‹¶ë‚˜ìš”?">
        
        <p><strong>3. ë‚˜ì˜ ë³„ì </strong></p>
        <div class="star-box">
            <input type="radio" name="st" id="s1" value="1ì "><label for="s1" class="star-label">â˜…</label>
            <input type="radio" name="st" id="s2" value="2ì "><label for="s2" class="star-label">â˜…â˜…</label>
            <input type="radio" name="st" id="s3" value="3ì "><label for="s3" class="star-label">â˜…â˜…â˜…</label>
            <input type="radio" name="st" id="s4" value="4ì "><label for="s4" class="star-label">â˜…â˜…â˜…â˜…</label>
            <input type="radio" name="st" id="s5" value="5ì "><label for="s5" class="star-label">â˜…â˜…â˜…â˜…â˜…</label>
        </div>

        <button class="btn ai-btn" onclick="makeDraft()">ğŸ“ ì´ˆì•ˆ ë¬¸ì¥ ë§Œë“¤ê¸°</button>
        <div class="nav-box"><button class="btn prev" onclick="mv(3)">ì´ì „</button></div>
    </div>

    <div id="p5" class="page">
        <h2>Step 5. ë‚´ê°€ ë§Œë“œëŠ” ê°ìƒë¬¸ (ì´ˆì•ˆ)</h2>
        <p style="color:#666; font-size:14px;">ì•„ë˜ ê¸€ì€ AIê°€ ìë™ìœ¼ë¡œ í•©ì¹œ ê²ƒì…ë‹ˆë‹¤. <strong>ì–´ìƒ‰í•œ ë¶€ë¶„ì„ ì§ì ‘ ìˆ˜ì •í•˜ê³  ë‚´ìš©ì„ ë” ì±„ì›Œë³´ì„¸ìš”.</strong></p>
        <textarea id="draft" style="height:400px; padding:20px; border:2px solid #2196F3; font-size:16px; line-height:1.8;"></textarea>
        
        <button class="btn ai-btn" onclick="finalAI()">âœ¨ AIì—ê²Œ ë‹¤ë“¬ê¸° ë¶€íƒí•˜ê¸°</button>
        <div class="nav-box"><button class="btn prev" onclick="mv(4)">ì´ì „</button></div>
    </div>

    <div id="p6" class="page">
        <h2>ğŸ‰ ì™„ì„±ëœ ê°ìƒë¬¸</h2>
        <div id="loading">
            <div class="spinner"></div>
            <h3>AIê°€ ë¬¸ì¥ì„ ì •ëˆí•˜ê³  ìˆìŠµë‹ˆë‹¤...âœï¸</h3>
        </div>
        <div id="final_view" style="display:none;">
            <textarea id="final_txt" style="height:450px; font-size:16px; line-height:1.9;"></textarea>
            <div class="nav-box">
                <button class="btn prev" onclick="mv(5)">ë‹¤ì‹œ ê³ ì¹˜ê¸°</button>
                <button class="btn" style="background:#27ae60;" onclick="window.print()">ğŸ–¨ï¸ ì¸ì‡„ / ì €ì¥</button>
            </div>
        </div>
    </div>

</div>

<script>
function mv(n){
    if(n==2 && (!document.getElementById('ti').value || !document.getElementById('nm').value)){ alert('ì´ë¦„ê³¼ ê³¡ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”'); return; }
    for(var i=1;i<=6;i++) document.getElementById('p'+i).style.display='none';
    document.getElementById('p'+n).style.display='block';
    window.scrollTo(0,0);
}

function gv(n){ var c=document.querySelector('input[name="'+n+'"]:checked'); return c?c.value:""; }
function val(id){ return document.getElementById(id).value; }

// 1ì°¨ ì´ˆì•ˆ ìƒì„± (ê¸¸ê²Œ ë§Œë“¤ê¸°)
function makeDraft(){
    mv(5);
    var t = "ì €ëŠ” "+val('gr')+"í•™ë…„ "+val('cl')+"ë°˜ "+val('nm')+"ì…ë‹ˆë‹¤.\n";
    t += "ì˜¤ëŠ˜ ìŒì•… ì‹œê°„ì—ëŠ” "+(val('cp')?val('cp')+"ì˜ ":"")+"'"+val('ti')+"'ì„(ë¥¼) ê°ìƒí–ˆìŠµë‹ˆë‹¤.\n";
    if(val('bg')) t += "ì´ ê³¡ì— ëŒ€í•´ "+val('bg')+"ë¼ëŠ” ì‚¬ì‹¤ì„ ë¯¸ë¦¬ ì•Œê³  ë“¤ì—ˆìŠµë‹ˆë‹¤.\n";
    t += "ìŒì•…ì„ ë“£ê¸° ì „, ì €ì˜ ê¸°ë¶„ì€ ëŒ€ì²´ë¡œ '"+(gv('e1')||"í‰ë²”")+"'í–ˆê³ , ë§ˆìŒì˜ ìƒ‰ê¹”ì€ '"+(gv('c1')||"ë¬´ìƒ‰")+"'ì— ê°€ê¹Œì› ìŠµë‹ˆë‹¤.\n\n";
    
    t += "[ë³¸ë¡ : ì†Œë¦¬ íƒìƒ‰]\n";
    t += "ìŒì•…ì´ ì‹œì‘ë˜ê³  ê·€ë¥¼ ê¸°ìš¸ì—¬ ë³´ë‹ˆ, "+val('q1')+" ì†Œë¦¬ê°€ ê°€ì¥ ë¨¼ì € ê·€ì— ë“¤ì–´ì™”ìŠµë‹ˆë‹¤. ";
    t += "ê³¡ì˜ ì†ë„ëŠ” "+val('q2')+" ëŠê»´ì¡Œê³ , ";
    t += "ì†Œë¦¬ì˜ í¬ê¸°ëŠ” "+val('q3')+" ë³€í™”í–ˆìŠµë‹ˆë‹¤. ";
    t += "íŠ¹íˆ "+val('q4')+" ë©œë¡œë””ê°€ ì¸ìƒ ê¹Šì—ˆìŠµë‹ˆë‹¤. ";
    if(val('q5')) t += "ì „ì²´ì ì¸ ê³¡ì˜ ë¶„ìœ„ê¸°ëŠ” "+val('q5')+" ëŠë‚Œì´ì—ˆìœ¼ë©°, ";
    if(val('q6')) t += "ì—°ì£¼ ë°©ì‹ì€ "+val('q6')+" ë“¤ë ¸ìŠµë‹ˆë‹¤.\n\n";

    t += "[ë³¸ë¡ : ë§ˆìŒì˜ í’ê²½]\n";
    t += "ìŒì•…ì„ ë“¤ìœ¼ë©° ì œ ê°ì •ì˜ ë³€í™”ë¥¼ ê·¸ë˜í”„ë¡œ ê·¸ë ¤ë³´ì•˜ìŠµë‹ˆë‹¤. ";
    if(val('q7')) t += "ëˆˆì„ ê°ê³  ê°ìƒí•˜ë‹ˆ ë§ˆì¹˜ '"+val('q7')+"' ê°™ì€ ì¥ë©´ì´ ë¨¸ë¦¿ì†ì— ìƒìƒí•˜ê²Œ ë– ì˜¬ëìŠµë‹ˆë‹¤. ";
    t += "ê°ìƒì´ ëë‚œ í›„, ì´ ìŒì•…ì€ ì €ì—ê²Œ '"+(gv('c2')||"ìƒˆë¡œìš´")+"' ìƒ‰ê¹”ë¡œ ë‹¤ê°€ì™”ìŠµë‹ˆë‹¤. ";
    t += "ê·¸ë¦¬ê³  ë§ˆìŒì† ê¹Šì´ '"+(gv('e2')||"íŠ¹ë³„í•œ")+"' ê°ì •ì„ ëŠë¼ê²Œ í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.\n\n";

    t += "[ê²°ë¡ : ë‚˜ì˜ ìƒê°]\n";
    t += "ì´ ìŒì•…ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ ì •ì˜í•œë‹¤ë©´ \""+val('q8')+"\"(ì´)ë¼ê³  í‘œí˜„í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤. ";
    if(val('q9')) t += "ì €ëŠ” ì´ ê³¡ì„ "+val('q9')+"ì—ê²Œ ì¶”ì²œí•´ì£¼ê³  ì‹¶ìŠµë‹ˆë‹¤. ";
    t += "ì œ ë³„ì ì€ "+(gv('st')||"0ì ")+"ì…ë‹ˆë‹¤. ìŒì•…ì„ í†µí•´ ì œ ë§ˆìŒì„ ë“¤ì—¬ë‹¤ë³¼ ìˆ˜ ìˆëŠ” ì†Œì¤‘í•œ ì‹œê°„ì´ì—ˆìŠµë‹ˆë‹¤.";

    document.getElementById('draft').value = t;
}

// ìµœì¢… AI ë‹¤ë“¬ê¸°
function finalAI(){
    mv(6);
    document.getElementById('loading').style.display='block';
    document.getElementById('final_view').style.display='none';
    
    var raw = document.getElementById('draft').value;
    var title = val('ti');

    setTimeout(function(){
        document.getElementById('loading').style.display='none';
        document.getElementById('final_view').style.display='block';
        
        var txt = "< " + title + " ê°ìƒë¬¸ >\n\n";
        // íƒœê·¸ ì œê±° ë° ì¤„ë°”ê¿ˆ ì •ë¦¬
        txt += raw.replace(/\[.*?\]/g, "").replace(/\n\n/g, "\n").replace(/\n/g, "\n\n");
        txt += "\n\n----------------------------------\n";
        txt += "AI ì„ ìƒë‹˜ì˜ í•œë§ˆë””: ì‘ì„±í•´ì£¼ì‹  ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ë¬¸ì¥ì„ ì •ëˆí–ˆìŠµë‹ˆë‹¤.\nìƒìƒí•œ í‘œí˜„ì´ ë‹ë³´ì´ëŠ” í›Œë¥­í•œ ê°ìƒë¬¸ì´ë„¤ìš”! ì°¸ ì˜í–ˆìŠµë‹ˆë‹¤! ğŸ‘";
        
        document.getElementById('final_txt').value = txt;
    }, 2000);
}

// ìº”ë²„ìŠ¤
var cv=document.getElementById('cv'), ct=cv.getContext('2d'), dr=false;
function s(e){dr=true;p(e)} function e(){dr=false;ct.beginPath()}
function p(e){if(!dr)return;e.preventDefault();var r=cv.getBoundingClientRect(),x=(e.clientX||e.touches[0].clientX)-r.left,y=(e.clientY||e.touches[0].clientY)-r.top;ct.lineWidth=3;ct.lineCap='round';ct.strokeStyle='#2196F3';ct.lineTo(x,y);ct.stroke();ct.beginPath();ct.moveTo(x,y)}
cv.addEventListener('mousedown',s);cv.addEventListener('mouseup',e);cv.addEventListener('mousemove',p);
cv.addEventListener('touchstart',s,{passive:false});cv.addEventListener('touchend',e);cv.addEventListener('touchmove',p,{passive:false});
function clr(){ct.clearRect(0,0,800,200)}
</script>
</body>
</html>